System Specification for AI Coding AgentObjective: Develop a multi-objective matchmaking algorithm that selects 4 players from a pool (e.g., 16 players) for a doubles match. The algorithm must evaluate all possible permutations, filter out invalid combinations using Hard Constraints, and score the remaining permutations using Weighted Variables and Soft Constraints.1. Data Standardisation & InputsAll variables must be normalised to a 0.0 â€“ 1.0 scale to allow for accurate weighted scoring.Skill Measure: Convert 1-10 numeric scores or Tier scores (Lower=10, Middle=50, Upper=100) into a $0.0 \to 1.0$ float.Time Sat Off Court: Calculate as a percentage where $1.0$ represents the player who has waited the longest in the current session.Match History: Count of previous encounters between these specific 4 players.Weightings: $W_{skill}$, $W_{time}$, and $W_{history}$ must be configurable percentage weights that sum to $1.0$.2. Constraint Resolution (Phase 1)Before scoring, generate all valid permutations of 4 players (Team 1: Player A & B vs Team 2: Player C & D). Apply the following absolute boolean filters. If any condition fails, drop the permutation from memory.Gender Matching (Hard): Drop if the permutation results in a 'funny' mix (e.g., Male + Male vs Female + Female when "Level" is required).Blacklist Mode (Hard Opponent): Drop if Player A or B has Player C or D on their opponent blacklist, and vice versa.Blacklist Mode (Hard Partner): Drop if Player A has a hard partner blacklist that does not include Player B, etc.3. The Scoring Engine (Phase 2)For all permutations that pass the Hard Constraint filter, calculate a base match score using the three weighted variables.A. Skill Parity & Variance Score ($S$)The algorithm must penalise both the imbalance between teams and the skill drift within teams. A sum-only approach (e.g., 1+9 vs 2+8) is invalid.Let $S_A, S_B$ be the skills of Team 1, and $S_C, S_D$ be the skills of Team 2.Team Imbalance: $\Delta_{teams} = |(S_A + S_B) - (S_C + S_D)|$Intra-Team Drift: $\Delta_{drift} = |S_A - S_B| + |S_C - S_D|$The Skill Score ($S$) is calculated by combining these penalties and inverting them so a higher score equals a better match:$$S = 1 - \left( c_1 \Delta_{teams} + c_2 \Delta_{drift} \right)$$(Where $c_1$ and $c_2$ are normalisation constants to keep the output between 0.0 and 1.0).B. Court Rotation Score ($T$)Calculate the mean wait time of the four players:$$T = \frac{T_A + T_B + T_C + T_D}{4}$$C. Match History Score ($H$)Inversely score the permutation based on the number of previous matches ($N$) these specific players have shared today:$$H = \frac{1}{N + 1}$$D. Base Weighted Score$$Score_{base} = (S \times W_{skill}) + (T \times W_{time}) + (H \times W_{history})$$4. Soft Constraints & Multipliers (Phase 3)Apply fractional multipliers to $Score_{base}$ for preferences that are desired but not mandatory.Soft Gender Mismatch: If triggered, multiply score by $0.5$.Soft Blacklist (Opponent/Partner): If triggered, multiply score by $0.2$.Play Style Preference Match: If the resulting match matches the players' preferred style (Open/Mix/Level), multiply the score by $1.2$.Final Output: Sort all evaluated permutations by their final adjusted score in descending order. Return the top-scoring group of 4.