<MudDialog>
    <TitleContent>
        <MudStack Row="true" AlignItems="AlignItems.Center" Spacing="2">
            <MudIcon Icon="@Icons.Material.Filled.SportsTennis" Color="Color.Primary" />
            <MudText Typo="Typo.h6">Select Court</MudText>
        </MudStack>
    </TitleContent>
    <DialogContent>
        <MudStack Spacing="2">
            @foreach (var courtNumber in AvailableCourts)
            {
                <MudButton Variant="Variant.Outlined"
                           Color="Color.Primary"
                           FullWidth="true"
                           Size="Size.Large"
                           OnClick="() => Select(courtNumber)">
                    @GetCourtLabel(courtNumber)
                </MudButton>
            }
        </MudStack>
    </DialogContent>
    <DialogActions>
        <MudButton OnClick="Cancel" Variant="Variant.Text">Cancel</MudButton>
    </DialogActions>
</MudDialog>

@code {
    [CascadingParameter] private IMudDialogInstance MudDialog { get; set; } = null!;
    [Parameter] public List<int> AvailableCourts { get; set; } = new();
    [Parameter] public Dictionary<int, string> CourtLabels { get; set; } = new();

    private string GetCourtLabel(int courtNumber)
    {
        return CourtLabels.TryGetValue(courtNumber, out var label) && !string.IsNullOrWhiteSpace(label)
            ? label
            : $"Court {courtNumber}";
    }

    private void Cancel() => MudDialog.Cancel();

    private void Select(int courtNumber) => MudDialog.Close(DialogResult.Ok(courtNumber));
}
