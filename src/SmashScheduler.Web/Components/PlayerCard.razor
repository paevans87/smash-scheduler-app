@using MudBlazor
@using SmashScheduler.Domain.Entities
@using SmashScheduler.Web.Components

<MudPaper Class="player-card" Elevation="1">
    <MudStack Row="true" AlignItems="AlignItems.Center" Justify="Justify.SpaceBetween" Style="width: 100%;">
        <MudStack Row="true" AlignItems="AlignItems.Center" Spacing="3">
            <MudAvatar Size="Size.Medium" Color="Color.Primary" Variant="Variant.Filled">
                @Player.Name[0]
            </MudAvatar>
            <MudText Typo="Typo.body1" Style="font-weight: 500;">@Player.Name</MudText>
        </MudStack>
        <MudStack Row="true" AlignItems="AlignItems.Center" Spacing="2">
            <SkillLevelBadge SkillLevel="@Player.SkillLevel" />
            @if (ShowActions)
            {
                @if (OnAdd.HasDelegate)
                {
                    <MudIconButton Icon="@Icons.Material.Filled.Add"
                                   Size="Size.Medium"
                                   Color="Color.Success"
                                   Variant="Variant.Filled"
                                   OnClick="@(() => OnAdd.InvokeAsync(Player))" />
                }
                @if (OnRemove.HasDelegate)
                {
                    <MudIconButton Icon="@Icons.Material.Filled.Remove"
                                   Size="Size.Medium"
                                   Color="Color.Error"
                                   Variant="Variant.Filled"
                                   OnClick="@(() => OnRemove.InvokeAsync(Player))" />
                }
            }
        </MudStack>
    </MudStack>
</MudPaper>

@code {
    [Parameter, EditorRequired] public Player Player { get; set; } = null!;
    [Parameter] public bool ShowActions { get; set; }
    [Parameter] public EventCallback<Player> OnAdd { get; set; }
    [Parameter] public EventCallback<Player> OnRemove { get; set; }
}
