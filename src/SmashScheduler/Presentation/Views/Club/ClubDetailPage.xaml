<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:viewmodels="clr-namespace:SmashScheduler.Presentation.ViewModels.Club"
             x:Class="SmashScheduler.Presentation.Views.Club.ClubDetailPage"
             x:DataType="viewmodels:ClubDetailViewModel"
             Title="{Binding Club.Name}">

    <ScrollView>
        <VerticalStackLayout Padding="16" Spacing="24">

            <Frame BackgroundColor="White"
                  BorderColor="#E8ECEF"
                  CornerRadius="16"
                  Padding="24"
                  HasShadow="True">

                <Grid RowDefinitions="Auto,Auto,Auto" RowSpacing="12">
                    <Label Grid.Row="0"
                          Text="{Binding Club.Name}"
                          TextColor="#2C3E50"
                          FontSize="28"
                          FontAttributes="Bold" />

                    <Label Grid.Row="1"
                          TextColor="#7F8C8D"
                          FontSize="17">
                        <Label.FormattedText>
                            <FormattedString>
                                <Span Text="{Binding Club.DefaultCourtCount}" />
                                <Span Text=" courts â€¢ " />
                                <Span Text="{Binding Club.GameType}" />
                            </FormattedString>
                        </Label.FormattedText>
                    </Label>

                    <Button Grid.Row="2"
                           Text="Edit Club"
                           Command="{Binding NavigateToEditClubCommand}"
                           BackgroundColor="Transparent"
                           BorderColor="#2ECC71"
                           BorderWidth="2"
                           TextColor="#2ECC71"
                           CornerRadius="12"
                           Padding="12"
                           Margin="0,8,0,0" />
                </Grid>
            </Frame>

            <Frame BackgroundColor="White"
                  BorderColor="#E8ECEF"
                  CornerRadius="16"
                  Padding="16"
                  HasShadow="True">

                <Frame.GestureRecognizers>
                    <TapGestureRecognizer Command="{Binding NavigateToPlayersCommand}" />
                </Frame.GestureRecognizers>

                <Grid ColumnDefinitions="*,Auto,Auto" ColumnSpacing="12">
                    <VerticalStackLayout Grid.Column="0" Spacing="4">
                        <Label Text="Players"
                              TextColor="#2C3E50"
                              FontSize="18"
                              FontAttributes="Bold" />

                        <Label Text="{Binding PlayerCount, StringFormat='{0} players in roster'}"
                              TextColor="#7F8C8D"
                              FontSize="15" />
                    </VerticalStackLayout>

                    <Button Grid.Column="1"
                           Text="+"
                           Command="{Binding NavigateToCreatePlayerCommand}"
                           BackgroundColor="#2ECC71"
                           TextColor="White"
                           WidthRequest="44"
                           HeightRequest="44"
                           CornerRadius="22"
                           Padding="0"
                           FontSize="20"
                           FontAttributes="Bold" />

                    <Image Grid.Column="2"
                          Source="chevron_right.png"
                          WidthRequest="24"
                          HeightRequest="24"
                          VerticalOptions="Center" />
                </Grid>
            </Frame>

            <Frame BackgroundColor="White"
                  BorderColor="#E8ECEF"
                  CornerRadius="16"
                  Padding="16"
                  HasShadow="True">

                <Frame.GestureRecognizers>
                    <TapGestureRecognizer Command="{Binding NavigateToSessionsCommand}" />
                </Frame.GestureRecognizers>

                <Grid ColumnDefinitions="*,Auto,Auto" ColumnSpacing="12">
                    <VerticalStackLayout Grid.Column="0" Spacing="4">
                        <Label Text="Sessions"
                              TextColor="#2C3E50"
                              FontSize="18"
                              FontAttributes="Bold" />

                        <Label Text="{Binding SessionCount, StringFormat='{0} total sessions'}"
                              TextColor="#7F8C8D"
                              FontSize="15" />
                    </VerticalStackLayout>

                    <Button Grid.Column="1"
                           Text="+"
                           Command="{Binding NavigateToCreateSessionCommand}"
                           BackgroundColor="#3498DB"
                           TextColor="White"
                           WidthRequest="44"
                           HeightRequest="44"
                           CornerRadius="22"
                           Padding="0"
                           FontSize="20"
                           FontAttributes="Bold" />

                    <Image Grid.Column="2"
                          Source="chevron_right.png"
                          WidthRequest="24"
                          HeightRequest="24"
                          VerticalOptions="Center" />
                </Grid>
            </Frame>
        </VerticalStackLayout>
    </ScrollView>
</ContentPage>
