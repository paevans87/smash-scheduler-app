<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:viewmodels="clr-namespace:SmashScheduler.Presentation.ViewModels.Player"
             x:Class="SmashScheduler.Presentation.Views.Player.PlayerEditPage"
             x:DataType="viewmodels:PlayerEditViewModel"
             Title="Edit Player">

    <ScrollView>
        <VerticalStackLayout Padding="16" Spacing="16">

            <Label Text="{Binding IsNewPlayer, Converter={StaticResource BoolToStringConverter}, ConverterParameter='Add New Player|Edit Player'}"
                  TextColor="#2C3E50"
                  FontSize="28"
                  FontAttributes="Bold" />

            <VerticalStackLayout Spacing="8">
                <Label Text="Player Name"
                      TextColor="#2C3E50"
                      FontSize="15"
                      FontAttributes="Bold" />

                <Entry Text="{Binding Name}"
                      Placeholder="Enter player name"
                      PlaceholderColor="#BDC3C7"
                      TextColor="#2C3E50"
                      FontSize="17"
                      BackgroundColor="White" />
            </VerticalStackLayout>

            <VerticalStackLayout Spacing="8">
                <Label Text="Skill Level"
                      TextColor="#2C3E50"
                      FontSize="15"
                      FontAttributes="Bold" />

                <Slider Value="{Binding SkillLevel}"
                       Minimum="1"
                       Maximum="10"
                       MinimumTrackColor="#2ECC71"
                       MaximumTrackColor="#E8ECEF"
                       ThumbColor="#27AE60" />

                <Label Text="{Binding SkillLevel, StringFormat='Level: {0}'}"
                      TextColor="#2C3E50"
                      FontSize="20"
                      FontAttributes="Bold"
                      HorizontalOptions="Center" />

                <Grid ColumnDefinitions="*,*,*" Margin="0,4">
                    <Label Grid.Column="0"
                          Text="Beginner"
                          TextColor="#E74C3C"
                          FontSize="13"
                          HorizontalOptions="Start" />

                    <Label Grid.Column="1"
                          Text="Intermediate"
                          TextColor="#F39C12"
                          FontSize="13"
                          HorizontalOptions="Center" />

                    <Label Grid.Column="2"
                          Text="Advanced"
                          TextColor="#27AE60"
                          FontSize="13"
                          HorizontalOptions="End" />
                </Grid>
            </VerticalStackLayout>

            <VerticalStackLayout Spacing="8">
                <Label Text="Gender"
                      TextColor="#2C3E50"
                      FontSize="15"
                      FontAttributes="Bold" />

                <Picker ItemsSource="{Binding Genders}"
                       SelectedItem="{Binding Gender}"
                       TextColor="#2C3E50"
                       FontSize="17" />
            </VerticalStackLayout>

            <VerticalStackLayout Spacing="8">
                <Label Text="Play Style Preference"
                      TextColor="#2C3E50"
                      FontSize="15"
                      FontAttributes="Bold" />

                <Picker ItemsSource="{Binding PlayStylePreferences}"
                       SelectedItem="{Binding PlayStylePreference}"
                       TextColor="#2C3E50"
                       FontSize="17" />
            </VerticalStackLayout>

            <Label Text="{Binding ErrorMessage}"
                  TextColor="#E74C3C"
                  FontSize="15"
                  IsVisible="{Binding ErrorMessage, Converter={StaticResource StringToBoolConverter}}"
                  Margin="0,8" />

            <Button Text="Save Player"
                   Command="{Binding SaveCommand}"
                   IsEnabled="{Binding IsSaving, Converter={StaticResource InvertedBoolConverter}}"
                   BackgroundColor="#2ECC71"
                   TextColor="White"
                   CornerRadius="12"
                   Padding="16"
                   FontSize="17"
                   FontAttributes="Bold"
                   Margin="0,16,0,0" />

            <Button Text="Cancel"
                   Command="{Binding CancelCommand}"
                   BackgroundColor="Transparent"
                   BorderColor="#E74C3C"
                   BorderWidth="2"
                   TextColor="#E74C3C"
                   CornerRadius="12"
                   Padding="16"
                   FontSize="17" />
        </VerticalStackLayout>
    </ScrollView>
</ContentPage>
